/* Mobile Optimization Utilities */

/* Touch-friendly tap targets - minimum 44x44px */
.touch-target {
  min-height: 44px;
  min-width: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Prevent text selection on UI elements */
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Smooth scrolling for mobile */
.mobile-scroll {
  -webkit-overflow-scrolling: touch;
  overflow-y: auto;
}

/* Hide scrollbar but keep functionality */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Mobile-specific spacing utilities */
@media (max-width: 768px) {
  .mobile-p-2 {
    padding: 0.5rem;
  }

  .mobile-p-4 {
    padding: 1rem;
  }

  .mobile-px-2 {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }

  .mobile-py-2 {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }

  .mobile-gap-2 {
    gap: 0.5rem;
  }

  .mobile-text-sm {
    font-size: 0.875rem;
    line-height: 1.25rem;
  }

  .mobile-text-xs {
    font-size: 0.75rem;
    line-height: 1rem;
  }

  /* Hide on mobile */
  .hidden-mobile {
    display: none !important;
  }

  /* Show only on mobile */
  .mobile-only {
    display: block !important;
  }

  /* Stack flex items on mobile */
  .mobile-stack {
    flex-direction: column !important;
  }

  /* Full width on mobile */
  .mobile-full {
    width: 100% !important;
  }

  /* Smaller headings on mobile */
  h1 {
    font-size: 1.875rem !important;
    line-height: 2.25rem !important;
  }

  h2 {
    font-size: 1.5rem !important;
    line-height: 2rem !important;
  }

  h3 {
    font-size: 1.25rem !important;
    line-height: 1.75rem !important;
  }

  /* Compact cards on mobile */
  .card-mobile {
    padding: 0.75rem !important;
  }

  .card-header-mobile {
    padding: 0.75rem !important;
  }

  .card-content-mobile {
    padding: 0.75rem !important;
  }

  /* Touch-friendly buttons - opt-in class to avoid overriding shadcn sizing */
  .mobile-touch-button {
    min-height: 44px;
    padding-left: 1rem;
    padding-right: 1rem;
  }

  /* Readable text size */
  body {
    font-size: 16px !important;
  }

  /* Prevent horizontal scroll */
  body, html {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Full-width inputs */
  input[type="text"],
  input[type="email"],
  input[type="number"],
  input[type="password"],
  textarea,
  select {
    width: 100%;
    font-size: 16px !important;
  }

  /* Compact table on mobile */
  table {
    font-size: 0.875rem;
  }

  /* Mobile-friendly dialogs */
  [role="dialog"], .dialog {
    max-width: calc(100vw - 2rem) !important;
    max-height: calc(100vh - 4rem) !important;
  }

  /* Sticky headers */
  .sticky-mobile {
    position: sticky !important;
    top: 0 !important;
    z-index: 10 !important;
  }

  /* Grid to single column on mobile */
  .mobile-grid-1 {
    grid-template-columns: 1fr !important;
  }
}

/* Tablet breakpoint */
@media (max-width: 1024px) and (min-width: 769px) {
  .tablet-grid-2 {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .tablet-hidden {
    display: none !important;
  }
}

/* Small mobile devices */
@media (max-width: 480px) {
  /* Extra compact spacing */
  .sm-mobile-p-1 {
    padding: 0.25rem !important;
  }

  .sm-mobile-gap-1 {
    gap: 0.25rem !important;
  }

  /* Even smaller text if needed */
  .sm-mobile-text-xs {
    font-size: 0.7rem !important;
    line-height: 0.95rem !important;
  }

  /* Ultra-compact buttons - opt-in class */
  .sm-mobile-compact-button {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.875rem !important;
  }
}

/* Landscape mobile fixes */
@media (max-height: 500px) and (orientation: landscape) {
  .landscape-compact {
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
  }

  .landscape-small-header {
    font-size: 1rem !important;
  }
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Improve tap highlighting */
* {
  -webkit-tap-highlight-color: rgba(139, 90, 60, 0.1);
}

/* Prevent double-tap zoom */
button, a, [role="button"] {
  touch-action: manipulation;
}

/* Better focus states for touch */
@media (hover: none) and (pointer: coarse) {
  button:focus,
  a:focus,
  [role="button"]:focus {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
  }
}
